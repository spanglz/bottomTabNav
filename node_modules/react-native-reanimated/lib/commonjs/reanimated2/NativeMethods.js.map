{"version":3,"names":["getTag","view","findNodeHandle","isNative","shouldBeUseWeb","measure","animatedRef","_WORKLET","console","warn","viewTag","measured","_measure","x","isNaN","dispatchCommand","commandName","args","shadowNodeWrapper","_dispatchCommand","scrollTo","global","_IS_FABRIC","y","animated","_scrollTo","setGestureState","handlerTag","newState","_setGestureState"],"sources":["NativeMethods.ts"],"sourcesContent":["/* global _WORKLET _measure _scrollTo _dispatchCommand _setGestureState */\nimport { Component } from 'react';\nimport { findNodeHandle } from 'react-native';\nimport { MeasuredDimensions } from './commonTypes';\nimport { RefObjectFunction } from './hook/commonTypes';\nimport { shouldBeUseWeb } from './PlatformChecker';\n\nexport function getTag(\n  view: null | number | React.Component<any, any> | React.ComponentClass<any>\n): null | number {\n  return findNodeHandle(view);\n}\n\nconst isNative = !shouldBeUseWeb();\n\nexport function measure(\n  animatedRef: RefObjectFunction<Component>\n): MeasuredDimensions | null {\n  'worklet';\n  if (!_WORKLET || !isNative) {\n    console.warn(\n      '[Reanimated] measure() cannot be used for web or Chrome Debugger'\n    );\n    return null;\n  }\n\n  const viewTag = animatedRef();\n  if (viewTag === -1) {\n    console.warn(\n      `[Reanimated] The view with tag ${viewTag} is not a valid argument for measure(). This may be because the view is not currently rendered, which may not be a bug (e.g. an off-screen FlatList item).`\n    );\n    return null;\n  }\n\n  const measured = _measure(viewTag);\n  if (measured.x === -1234567) {\n    console.warn(\n      `[Reanimated] The view with tag ${viewTag} returned an invalid measurement response`\n    );\n    return null;\n  } else if (isNaN(measured.x)) {\n    console.warn(\n      `[Reanimated] The view with tag ${viewTag} gets view-flattened on Android. To disable view-flattening, set \\`collapsable={false}\\` on this component.`\n    );\n    return null;\n  } else {\n    return measured;\n  }\n}\n\nexport function dispatchCommand(\n  animatedRef: RefObjectFunction<Component>,\n  commandName: string,\n  args: Array<unknown>\n): void {\n  'worklet';\n  if (!_WORKLET || !isNative) {\n    return;\n  }\n  const shadowNodeWrapper = animatedRef();\n  _dispatchCommand(shadowNodeWrapper, commandName, args);\n}\n\nexport let scrollTo: (\n  animatedRef: RefObjectFunction<Component>,\n  x: number,\n  y: number,\n  animated: boolean\n) => void;\n\nif (global._IS_FABRIC) {\n  scrollTo = (\n    animatedRef: RefObjectFunction<Component>,\n    x: number,\n    y: number,\n    animated: boolean\n  ) => {\n    'worklet';\n    dispatchCommand(animatedRef, 'scrollTo', [x, y, animated]);\n  };\n} else {\n  scrollTo = (\n    animatedRef: RefObjectFunction<Component>,\n    x: number,\n    y: number,\n    animated: boolean\n  ) => {\n    'worklet';\n    if (!_WORKLET || !isNative) {\n      return;\n    }\n    const viewTag = animatedRef();\n    _scrollTo(viewTag, x, y, animated);\n  };\n}\n\nexport function setGestureState(handlerTag: number, newState: number): void {\n  'worklet';\n  if (!_WORKLET || !isNative) {\n    console.warn(\n      '[Reanimated] You can not use setGestureState in non-worklet function.'\n    );\n    return;\n  }\n  _setGestureState(handlerTag, newState);\n}\n"],"mappings":";;;;;;;;;;;AAEA;;AAGA;;AALA;AAOO,SAASA,MAAT,CACLC,IADK,EAEU;EACf,OAAO,IAAAC,2BAAA,EAAeD,IAAf,CAAP;AACD;;AAED,MAAME,QAAQ,GAAG,CAAC,IAAAC,+BAAA,GAAlB;;AAEO,SAASC,OAAT,CACLC,WADK,EAEsB;EAC3B;;EACA,IAAI,CAACC,QAAD,IAAa,CAACJ,QAAlB,EAA4B;IAC1BK,OAAO,CAACC,IAAR,CACE,kEADF;IAGA,OAAO,IAAP;EACD;;EAED,MAAMC,OAAO,GAAGJ,WAAW,EAA3B;;EACA,IAAII,OAAO,KAAK,CAAC,CAAjB,EAAoB;IAClBF,OAAO,CAACC,IAAR,CACG,kCAAiCC,OAAQ,4JAD5C;IAGA,OAAO,IAAP;EACD;;EAED,MAAMC,QAAQ,GAAGC,QAAQ,CAACF,OAAD,CAAzB;;EACA,IAAIC,QAAQ,CAACE,CAAT,KAAe,CAAC,OAApB,EAA6B;IAC3BL,OAAO,CAACC,IAAR,CACG,kCAAiCC,OAAQ,2CAD5C;IAGA,OAAO,IAAP;EACD,CALD,MAKO,IAAII,KAAK,CAACH,QAAQ,CAACE,CAAV,CAAT,EAAuB;IAC5BL,OAAO,CAACC,IAAR,CACG,kCAAiCC,OAAQ,6GAD5C;IAGA,OAAO,IAAP;EACD,CALM,MAKA;IACL,OAAOC,QAAP;EACD;AACF;;AAEM,SAASI,eAAT,CACLT,WADK,EAELU,WAFK,EAGLC,IAHK,EAIC;EACN;;EACA,IAAI,CAACV,QAAD,IAAa,CAACJ,QAAlB,EAA4B;IAC1B;EACD;;EACD,MAAMe,iBAAiB,GAAGZ,WAAW,EAArC;;EACAa,gBAAgB,CAACD,iBAAD,EAAoBF,WAApB,EAAiCC,IAAjC,CAAhB;AACD;;AAEM,IAAIG,QAAJ;;;AAOP,IAAIC,MAAM,CAACC,UAAX,EAAuB;EACrB,mBAAAF,QAAQ,GAAG,CACTd,WADS,EAETO,CAFS,EAGTU,CAHS,EAITC,QAJS,KAKN;IACH;;IACAT,eAAe,CAACT,WAAD,EAAc,UAAd,EAA0B,CAACO,CAAD,EAAIU,CAAJ,EAAOC,QAAP,CAA1B,CAAf;EACD,CARD;AASD,CAVD,MAUO;EACL,mBAAAJ,QAAQ,GAAG,CACTd,WADS,EAETO,CAFS,EAGTU,CAHS,EAITC,QAJS,KAKN;IACH;;IACA,IAAI,CAACjB,QAAD,IAAa,CAACJ,QAAlB,EAA4B;MAC1B;IACD;;IACD,MAAMO,OAAO,GAAGJ,WAAW,EAA3B;;IACAmB,SAAS,CAACf,OAAD,EAAUG,CAAV,EAAaU,CAAb,EAAgBC,QAAhB,CAAT;EACD,CAZD;AAaD;;AAEM,SAASE,eAAT,CAAyBC,UAAzB,EAA6CC,QAA7C,EAAqE;EAC1E;;EACA,IAAI,CAACrB,QAAD,IAAa,CAACJ,QAAlB,EAA4B;IAC1BK,OAAO,CAACC,IAAR,CACE,uEADF;IAGA;EACD;;EACDoB,gBAAgB,CAACF,UAAD,EAAaC,QAAb,CAAhB;AACD"}