{"version":3,"names":["findNodeHandle","shouldBeUseWeb","getTag","view","isNative","measure","animatedRef","_WORKLET","console","warn","viewTag","measured","_measure","x","isNaN","dispatchCommand","commandName","args","shadowNodeWrapper","_dispatchCommand","scrollTo","global","_IS_FABRIC","y","animated","_scrollTo","setGestureState","handlerTag","newState","_setGestureState"],"sources":["NativeMethods.ts"],"sourcesContent":["/* global _WORKLET _measure _scrollTo _dispatchCommand _setGestureState */\nimport { Component } from 'react';\nimport { findNodeHandle } from 'react-native';\nimport { MeasuredDimensions } from './commonTypes';\nimport { RefObjectFunction } from './hook/commonTypes';\nimport { shouldBeUseWeb } from './PlatformChecker';\n\nexport function getTag(\n  view: null | number | React.Component<any, any> | React.ComponentClass<any>\n): null | number {\n  return findNodeHandle(view);\n}\n\nconst isNative = !shouldBeUseWeb();\n\nexport function measure(\n  animatedRef: RefObjectFunction<Component>\n): MeasuredDimensions | null {\n  'worklet';\n  if (!_WORKLET || !isNative) {\n    console.warn(\n      '[Reanimated] measure() cannot be used for web or Chrome Debugger'\n    );\n    return null;\n  }\n\n  const viewTag = animatedRef();\n  if (viewTag === -1) {\n    console.warn(\n      `[Reanimated] The view with tag ${viewTag} is not a valid argument for measure(). This may be because the view is not currently rendered, which may not be a bug (e.g. an off-screen FlatList item).`\n    );\n    return null;\n  }\n\n  const measured = _measure(viewTag);\n  if (measured.x === -1234567) {\n    console.warn(\n      `[Reanimated] The view with tag ${viewTag} returned an invalid measurement response`\n    );\n    return null;\n  } else if (isNaN(measured.x)) {\n    console.warn(\n      `[Reanimated] The view with tag ${viewTag} gets view-flattened on Android. To disable view-flattening, set \\`collapsable={false}\\` on this component.`\n    );\n    return null;\n  } else {\n    return measured;\n  }\n}\n\nexport function dispatchCommand(\n  animatedRef: RefObjectFunction<Component>,\n  commandName: string,\n  args: Array<unknown>\n): void {\n  'worklet';\n  if (!_WORKLET || !isNative) {\n    return;\n  }\n  const shadowNodeWrapper = animatedRef();\n  _dispatchCommand(shadowNodeWrapper, commandName, args);\n}\n\nexport let scrollTo: (\n  animatedRef: RefObjectFunction<Component>,\n  x: number,\n  y: number,\n  animated: boolean\n) => void;\n\nif (global._IS_FABRIC) {\n  scrollTo = (\n    animatedRef: RefObjectFunction<Component>,\n    x: number,\n    y: number,\n    animated: boolean\n  ) => {\n    'worklet';\n    dispatchCommand(animatedRef, 'scrollTo', [x, y, animated]);\n  };\n} else {\n  scrollTo = (\n    animatedRef: RefObjectFunction<Component>,\n    x: number,\n    y: number,\n    animated: boolean\n  ) => {\n    'worklet';\n    if (!_WORKLET || !isNative) {\n      return;\n    }\n    const viewTag = animatedRef();\n    _scrollTo(viewTag, x, y, animated);\n  };\n}\n\nexport function setGestureState(handlerTag: number, newState: number): void {\n  'worklet';\n  if (!_WORKLET || !isNative) {\n    console.warn(\n      '[Reanimated] You can not use setGestureState in non-worklet function.'\n    );\n    return;\n  }\n  _setGestureState(handlerTag, newState);\n}\n"],"mappings":"AAAA;AAEA,SAASA,cAAT,QAA+B,cAA/B;AAGA,SAASC,cAAT,QAA+B,mBAA/B;AAEA,OAAO,SAASC,MAAT,CACLC,IADK,EAEU;EACf,OAAOH,cAAc,CAACG,IAAD,CAArB;AACD;AAED,MAAMC,QAAQ,GAAG,CAACH,cAAc,EAAhC;AAEA,OAAO,SAASI,OAAT,CACLC,WADK,EAEsB;EAC3B;;EACA,IAAI,CAACC,QAAD,IAAa,CAACH,QAAlB,EAA4B;IAC1BI,OAAO,CAACC,IAAR,CACE,kEADF;IAGA,OAAO,IAAP;EACD;;EAED,MAAMC,OAAO,GAAGJ,WAAW,EAA3B;;EACA,IAAII,OAAO,KAAK,CAAC,CAAjB,EAAoB;IAClBF,OAAO,CAACC,IAAR,CACG,kCAAiCC,OAAQ,4JAD5C;IAGA,OAAO,IAAP;EACD;;EAED,MAAMC,QAAQ,GAAGC,QAAQ,CAACF,OAAD,CAAzB;;EACA,IAAIC,QAAQ,CAACE,CAAT,KAAe,CAAC,OAApB,EAA6B;IAC3BL,OAAO,CAACC,IAAR,CACG,kCAAiCC,OAAQ,2CAD5C;IAGA,OAAO,IAAP;EACD,CALD,MAKO,IAAII,KAAK,CAACH,QAAQ,CAACE,CAAV,CAAT,EAAuB;IAC5BL,OAAO,CAACC,IAAR,CACG,kCAAiCC,OAAQ,6GAD5C;IAGA,OAAO,IAAP;EACD,CALM,MAKA;IACL,OAAOC,QAAP;EACD;AACF;AAED,OAAO,SAASI,eAAT,CACLT,WADK,EAELU,WAFK,EAGLC,IAHK,EAIC;EACN;;EACA,IAAI,CAACV,QAAD,IAAa,CAACH,QAAlB,EAA4B;IAC1B;EACD;;EACD,MAAMc,iBAAiB,GAAGZ,WAAW,EAArC;;EACAa,gBAAgB,CAACD,iBAAD,EAAoBF,WAApB,EAAiCC,IAAjC,CAAhB;AACD;AAED,OAAO,IAAIG,QAAJ;;AAOP,IAAIC,MAAM,CAACC,UAAX,EAAuB;EACrBF,QAAQ,GAAG,CACTd,WADS,EAETO,CAFS,EAGTU,CAHS,EAITC,QAJS,KAKN;IACH;;IACAT,eAAe,CAACT,WAAD,EAAc,UAAd,EAA0B,CAACO,CAAD,EAAIU,CAAJ,EAAOC,QAAP,CAA1B,CAAf;EACD,CARD;AASD,CAVD,MAUO;EACLJ,QAAQ,GAAG,CACTd,WADS,EAETO,CAFS,EAGTU,CAHS,EAITC,QAJS,KAKN;IACH;;IACA,IAAI,CAACjB,QAAD,IAAa,CAACH,QAAlB,EAA4B;MAC1B;IACD;;IACD,MAAMM,OAAO,GAAGJ,WAAW,EAA3B;;IACAmB,SAAS,CAACf,OAAD,EAAUG,CAAV,EAAaU,CAAb,EAAgBC,QAAhB,CAAT;EACD,CAZD;AAaD;;AAED,OAAO,SAASE,eAAT,CAAyBC,UAAzB,EAA6CC,QAA7C,EAAqE;EAC1E;;EACA,IAAI,CAACrB,QAAD,IAAa,CAACH,QAAlB,EAA4B;IAC1BI,OAAO,CAACC,IAAR,CACE,uEADF;IAGA;EACD;;EACDoB,gBAAgB,CAACF,UAAD,EAAaC,QAAb,CAAhB;AACD"}